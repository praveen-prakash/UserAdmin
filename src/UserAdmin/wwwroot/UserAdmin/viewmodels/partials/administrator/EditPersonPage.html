<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html" />
<link rel="import" href="/sys/sgb-property-metadata/sgb-property-metadata.html" />
<link rel="stylesheet" href="/sys/bootswatch/paper/bootstrap.css" />

<template>
    <sgb-property-metadata items="{{PropertyMetadataItems.Items}}"></sgb-property-metadata>
    <img src="{{ImageURL}}" />
    <H2>{{FullName}}</H2>
    <div class="form-horizontal">
        <label class="control-label" for="Username">Username</label>
    </div>
    <div>
        <input id="Username" type="text" value="{{ Username }}" update-on="input" placeholder="Username" class="form-control" readonly />
    </div>

    <div class="form-horizontal">
        <label class="control-label" for="FirstName$">FirstName</label>
    </div>
    <div>
        <input id="FirstName$" type="text" value="{{ FirstName$ }}" update-on="input" placeholder="FirstName" class="form-control" />
    </div>

    <div class="form-horizontal">
        <label class="control-label" for="LastName$">LastName</label>
    </div>
    <div>
        <input id="LastName$" type="text" value="{{ LastName$ }}" update-on="input" placeholder="LastName" class="form-control" />
    </div>

    <!-- Member in user groups -->
    <h3>Member in</h3>
    <table class="table" >
        <thead>
            <tr>
                <th>Name</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <template repeat="{{item in Groups}}">
                <tr>
                    <td>
                        <a href="/UserAdmin/admin/usergroups/{{item.Key}}">{{item.Name}}</a>
                    </td>
                    <td>
                        <button class="btn btn-default btn-xs" onclick="getModel(this).item.Remove$++">Remove</button>
                    </td>
                </tr>
            </template>
        </tbody>
    </table>
    <div class="form-horizontal">
        <label class="control-label" for="AddToGroup">Add System Group</label>
    </div>
    <div>
        <select class="form-control" value="{{SelectedSystemUserGroupsID$}}">
            <option value="">None</option>
            <template repeat="{{ item in SystemUserGroups }}">
                <option value="{{item.Key}}">{{item.Name}}</option>
            </template>
        </select>
    </div>
    <div>
        <button class="btn btn-default btn-sm" onclick="getModel(this).AddUserToGroup$++">Add</button>
    </div>
    <template if="{{Message}}">
        <p>{{Message}}</p>
    </template>
    <div>
        <button class="btn btn-primary" disabled?="{{ IsInvalid || IsPristine }}" onclick="getModel(this).Save$++">Save</button>
    </div>
    <div>
        <button class="btn btn-default" onclick="getModel(this).Delete$++">Delete</button>
    </div>
    <div>
        <button class="btn btn-default" disabled?="{{ IsDirty || !ResetPassword_Enabled }}" onclick="getModel(this).ResetPassword$++">Reset Password</button>
    </div>
    <div>
        <button class="btn btn-default" disabled?="{{ IsPristine }}" onclick="getModel(this).Rollback$++">Undo</button>
    </div>
    <div>
        <button class="btn btn-default" onclick="getModel(this).Close$++">Close</button>
    </div>
    <link is="puppet-redirect" history url="{{ RedirectUrl }}" />
</template>
