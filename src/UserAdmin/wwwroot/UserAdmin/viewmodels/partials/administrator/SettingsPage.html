<link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html" />
<link rel="import" href="/sys/sgb-property-metadata/sgb-property-metadata.html" />
<link rel="stylesheet" href="/sys/bootswatch/paper/bootstrap.css" />

<template>
    <sgb-property-metadata items="{{PropertyMetadataItems.Items}}"></sgb-property-metadata>
    <h2>Settings</h2>
    <h3>General</h3>
    <div class="form-horizontal">
        <label class="control-label" for="SiteHost$">Site Host</label>
    </div>
    <div>
        <input id="SiteHost$" type="text" value="{{ SiteHost$ }}" update-on="input" placeholder="Site host name" class="form-control" />
    </div>
    <div class="form-horizontal">
        <label class="control-label" for="SitePort$">Site Port</label>
    </div>
    <div>
        <input id="SitePort$" type="number" value="{{ SitePort$ }}" update-on="input" placeholder="Site Port" class="form-control" />
    </div>
    <h3>Mail Server</h3>
    <div>
        <label>
            <input id="Enabled$" type="checkbox" checked="{{ Enabled$ }}" />
            <span>Enabled</span>
        </label>
    </div>
    <div class="form-horizontal">
        <label class="control-label" for="Host$">Host</label>
    </div>
    <div>
        <input id="Host$" type="text" disabled?="{{ !Enabled$ }}" value="{{ Host$ }}" upd update-on="input" placeholder="Host" class="form-control" />
    </div>
    <div class="form-horizontal">
        <label class="control-label" for="Port$">Port</label>
    </div>
    <div>
        <input id="Port$" type="number" disabled?="{{ !Enabled$ }}" value="{{ Port$ }}" upd update-on="input" placeholder="Port" class="form-control" />
    </div>
    <div>
        <template if="{{Port_Feedback.TypeNo >= 0}}">
            <span class="isa_{{Port_Feedback.Type}}">
                {{Port_Feedback.Message}}
            </span>
        </template>
    </div>
    <div>
        <label for="EnableSsl$">
            <input id="EnableSsl$" type="checkbox" disabled?="{{ !Enabled$ }}" checked="{{ EnableSsl$ }}" />
            <span>Enable SSL</span>
        </label>
    </div>
    <div class="form-horizontal">
        <label class="control-label" for="Username$">Username</label>
    </div>
    <div>
        <input id="Username$" type="text" disabled?="{{ !Enabled$ }}" value="{{ Username$ }}" placeholder="Username" class="form-control" />
    </div>
    <div class="form-horizontal">
        <label class="control-label" for="Password$">Password</label>
    </div>
    <div>
        <input id="Password$" type="password" disabled?="{{ !Enabled$ }}" value="{{ Password$ }}" placeholder="Password" class="form-control" />
    </div>
    <template if="{{Message}}">
        <p>{{Message}}</p>
    </template>
    <button class="btn btn-primary" disabled?="{{ IsInvalid || IsPristine}}" onclick="getModel(this).Save$++">Save</button>
    <button class="btn btn-default" disabled?="{{ IsPristine }}" onclick="getModel(this).Rollback$++">Undo</button>
    <button class="btn btn-default" onclick="getModel(this).Close$++">Close</button>
    <link is="puppet-redirect" history url="{{ RedirectUrl }}" />
</template>
